<HarmonyScreen>:
    orientation: 'horizontal'
    padding: 10
    spacing: 10

    BoxLayout:
        orientation: 'vertical'
        size_hint_x: 0.7
        spacing: 10

        TextInput:
            id: lyrics_input
            hint_text: "Digite ou cole a letra com acordes no formato [Am]"
            size_hint_y: 0.45
            multiline: True
            font_size: 16
            on_text: root.parse_chords()

        BoxLayout:
            size_hint_y: 0.1
            spacing: 10

            TextInput:
                id: chord_input
                hint_text: "Acorde (ex: Am, C7)"

            Button:
                text: "Inserir acorde"
                on_press: root.insert_chord_tag()

        Label:
            text: "Pré-visualização da cifra"
            size_hint_y: 0.05
            font_size: '16sp'

        ScrollView:
            size_hint_y: 0.4
            Label:
                id: cifra_preview
                markup: True
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
                font_size: 16

    BoxLayout:
        orientation: 'vertical'
        size_hint_x: 0.3
        padding: 10
        spacing: 10

        Label:
            text: "Ocorrências de acordes"
            font_size: '16sp'
            size_hint_y: 0.05

        ScrollView:
            size_hint_y: 0.35
            GridLayout:
                id: chord_list
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: 5

        Label:
            id: selected_chord_label
            text: "Acorde selecionado: [i]nenhum[/i]"
            markup: True
            size_hint_y: 0.05

        TextInput:
            id: degree_input
            hint_text: "Grau harmônico"
            size_hint_y: 0.1

        TextInput:
            id: comment_input
            hint_text: "Comentário sobre o acorde"
            size_hint_y: 0.2

        BoxLayout:
            size_hint_y: 0.1
            spacing: 10

            Button:
                text: "Atualizar metadados"
                on_press: root.update_metadata()

            Button:
                text: "Limpar campos"
                on_press: root.clear_metadata_fields()
